<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/style.css">
    <title>Product</title>
</head>

<body>

    <section class="header">
        <div class="header_container">
            <div class="header_display">
                <a class="header_link" href="#">
                    Summer Sale For All Swim Suits And Free Express Delivery - OFF 50%!
                    <span class="header_span">ShopNow</span>
                </a>
                <a class="header_eng" href="#">English
                    <img class="header_img" src="./images/Drop.svg" alt="drop" width="24" height="24">
                </a>
            </div>
        </div>
    </section>



    <section class="navbar">
        <div class="container navbar_container">
            <div class="navbar_left">
                <a class="navbar_logo" href="./index.html">Exclusive</a>
                <ul class="navbar_list">
                    <li class="navbar_item">
                        <a class="navbar_ink" href="./index.html">Home</a>
                    </li>
                    <li class="navbar_item">
                        <a class="navbar_ink" href="#">Contact</a>
                    </li>
                    <li class="navbar_item">
                        <a class="navbar_ink" href="#">About</a>
                    </li>
                    <li class="navbar_item">
                        <a class="navbar_ink" href="./login.html">Sign in</a>
                    </li>
                </ul>
            </div>
            <div class="navbar_right">
                <div class="group">
                    <img class="icon" src="./images/loop.svg" alt="icon" width="25" height="25">
                    <input placeholder="What are you looking for?" type="search" class="input">
                </div>
                <div class="navbar_img">
                    <img class="navbar_icon" src="./images/like.svg" alt="like">
                    <img class="navbar_icon" src="./images/buy.svg" alt="buy">
                </div>
            </div>
        </div>
        <hr class="navbar_line">
    </section>

    

    <script defer>

        init()
        async function init() {

            const productId = getId()
            const product = await fetchProduct(productId);
            renderProduct(product)
        }

        function getId() {
            const queryString = window.location.search
            const urlParams = new URLSearchParams(queryString)
            const id = urlParams.get("id")

            return id;
        }
        async function fetchProduct(id) {
            const response = await fetch(`https://fakestoreapi.com/products/${id}`)
            const result = await response.json();
            return result;
        }

        function renderProduct(product) {
            const productImg = document.createElement("div")
            productImg.className = "product-img"
            const productContent = document.createElement("div")
            productContent.className = "product-content"
            const div = document.createElement("div");
            div.className = "product-container"
            const productLeft = document.querySelector(".product_left")
            const productFollow = document.querySelector(".product_follow")


            const img = document.createElement("img");
            img.src = product.image;
            img.className = "product_img"
            productImg.append(img);

            const title = document.createElement("p");
            title.className = "product_text";
            title.textContent = product.title;
            productContent.append(title)


            const ratingContainer = document.createElement("div");
            ratingContainer.classList.add("product-rating-container");

            const stars = "<span class='star'>⭐️</span>".repeat(Math.round(product.rating.rate));


            const ratingCount = document.createElement("div");
            ratingCount.textContent = `(${product.rating.count})`;
            ratingCount.classList.add("rating-count");


            ratingContainer.insertAdjacentHTML("beforeend", stars);
            ratingContainer.appendChild(ratingCount);


            productContent.append(ratingContainer);
            const price = document.createElement("strong");
            price.textContent = product.price;
            price.classList.add("product-price");
            productContent.append(price);


            const description = document.createElement("p");
            description.textContent = product.description
            productContent.append(description)
            description.className = "product_info"


            const line = document.createElement("hr");
            line.className = "product-line";
            productContent.append(line);
            productLeft.append(productContent)
            productLeft.append(productFollow)

            div.append(productImg)
            div.append(productLeft)

            document.body.append(div)

        }

    </script>
    <section class="product">
        <div class="container product_container">
            <div class="product_left">

                <div class="product_follow">
                    <div class="product_radio--display">
                        <p class="product_radio--text">Colours:</p>
                        <div class="radio-input">
                            <input class="radio_color--input" type="radio" id="value-1" name="value-radio"
                                value="value-1">

                            <div class="circle">

                            </div>
                            <input class="radio_color" type="radio" id="value-2" name="value-radio" value="value-2">
                            <div class="circle">
                            </div>
                        </div>
                    </div>
                    <div class="produc_size--display">
                        <p class="product_size--tetx">Size:</p>
                        <div class="product_size--border">
                            <p class="product_size--dic"> XS</p>
                        </div>
                        <div class="product_size--border">
                            <p class="product_size--dic">S</p>
                        </div>
                        <div class="product_size--border">
                            <p class="product_size--dic">M</p>
                        </div>
                        <div class="product_size--border">
                            <p class="product_size--dic"> L</p>
                        </div>
                        <div class="product_size--border">
                            <p class="product_size--dic">XL</p>
                        </div>
                    </div>
                    <div class="product_number--all">
                        <ul class="product_number--list">
                            <li class="product_number--item">
                                <div class="number-control">
                                    <div class="number-left"></div>
                                    <input type="number" name="number" class="number-quantity">
                                    <div class="number-right"></div>
                                </div>
                            </li>
                            <li class="product_number--item">
                                <button class="product_number--button">
                                    Buy Now
                                </button>
                            </li>
                            <li class="product_number--item">
                                <div class="product_number--border">
                                    <img src="./images/like.svg" alt="like">
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="product_buyLine--all">
                        <div class="product_buy--all">
                            <div class="product_buy--left">
                                <img src="./images/delivery.svg" alt="delivery" width="40" height="40">
                            </div>
                            <div class="product_buy--right">
                                <h3 class="product_buy--header">Free Delivery</h3>
                                <a href="#" class="product_buy--link">
                                    Enter your postal code for Delivery Availability
                                </a>
                            </div>
                        </div>
                        <hr>
                        <div class="product_buy--all">
                            <div class="product_buy--left">
                                <img src="./images/return.svg" alt="delivery" width="40" height="40">
                            </div>
                            <div class="product_buy--right">
                                <h3 class="product_buy--header">Free Delivery</h3>
                                <p class="product_buy--text">Free 30 Days Delivery Returns. <a href="#">Details</a> </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="product_right">
            </div>


        </div>
    </section>
</body>

</html>